(this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]=this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"b":"Watson Visual Recognition","a":"The Visual Recognition service uses deep learning algorithms to analyze images for scenes, objects, text, and other subjects."}')},18:function(e,t,a){},26:function(e){e.exports=JSON.parse('[{"url":"/images/classify/small/tweed_jacket.jpg","alt":"tweed jacket"},{"url":"/images/classify/small/computer_chip.jpg","alt":"computer-chip"},{"url":"/images/classify/small/soy_sauce.jpg","alt":"kodak-film"}]')},27:function(e){e.exports=JSON.parse('[{"classifier_id":"default","name":"default","classes":[{"class":"fabric","score":0.959},{"class":"gray color","score":0.946},{"class":"Harris Tweed (jacket)","score":0.87,"type_hierarchy":"/fabric/Harris Tweed (jacket)"},{"class":"clothing","score":0.8},{"class":"tweed","score":0.791,"type_hierarchy":"/fabric/tweed"},{"class":"garment","score":0.518},{"class":"overgarment","score":0.517},{"class":"coat","score":0.509},{"class":"Norfolk jacket","score":0.5,"type_hierarchy":"/garment/overgarment/coat/Norfolk jacket"}],"display":"General Model","description":"Quickly understand objects, actions, scenes, and colors within an image."},{"classifier_id":"food","name":"food","classes":[{"class":"non-food","score":0.998}],"display":"Food Model","description":"Identify meals and food items with enhanced accuracy."},{"classifier_id":"explicit","name":"explicit","classes":[{"class":"not explicit","score":0.991}],"display":"Explicit Model","description":"Determine if an image contains nudity or other inappropriate content."}]')},36:function(e,t,a){e.exports=a(45)},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(18),a(52)),s=a(46),l=a(28),m=a.n(l),u=a(29),d=a.n(u),p=a(32),f=a.n(p),g=a(31),h=a.n(g),E=a(30),v=a.n(E),b=function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])},k=a(48),_=function(e){var t=e.description,a=e.links,n=e.title;return r.a.createElement(k.b,{className:"header"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h2",{className:"header-title"},n),r.a.createElement("p",null,t)),r.a.createElement("div",{className:"link-container"},r.a.createElement("div",{className:"link-wrapper"},a.map((function(e){return e})))))};_.defaultProps={description:"",links:[],title:""};var y=_,N=a(15),w=a.n(N),j=a(22),C=a(4),S=function(e){var t=e.images,a=e.onClick;return t.map((function(e,t){return r.a.createElement("div",{key:t,className:"image-picker--section__tile"},r.a.createElement(k.a,{id:"tile-".concat(t),handleClick:function(){a(t)}},r.a.createElement("img",{className:"image-picker--section__image",src:e.url,alt:e.alt})))}))},O=function(e){var t=e.loadingMessage;return r.a.createElement("span",{className:"loader"},r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader-dots"}),t?r.a.createElement("div",{className:"loader-message"},r.a.createElement("p",{className:"ibm-type-a"},t)):null))};O.defaultProps={loadingMessage:null};var B=O,W=a(33),I=a(24),x=a.n(I),D=function(e){var t=e.onUpload;return r.a.createElement("div",{className:"image-picker--section__tile"},r.a.createElement(k.a,{id:"123",handleClick:function(){}},r.a.createElement(W.a,{multiple:!1,onDrop:function(e){t(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t(),{className:"upload-image"}),r.a.createElement("input",a()),r.a.createElement(x.a,null),r.a.createElement("p",{className:"upload-text"},"Select or drag an image"))}))))},P=function(e){var t=e.showLoader,a=e.viewerImage,n=e.pickerImages,c=e.onSelectTile,i=e.onUpload;return r.a.createElement("div",{className:"main-image-picker__container"},r.a.createElement("div",{className:"main-image-picker"},r.a.createElement("div",null,r.a.createElement("img",{className:"main-image-picker__image",src:a,alt:"main"}),t?r.a.createElement(B,null):null)),r.a.createElement("div",{className:"image-selection__container"},r.a.createElement("div",{className:"image-picker__tiles"},r.a.createElement(S,{images:n,onClick:function(e){c(e)}}),r.a.createElement(D,{onUpload:function(e){i(e)}}))))};P.defaultProps={viewerType:"image"};var A=P,F=function(e){var t=e.images,a=e.onSubmitImage,c=e.handleUnsupportedFormats,i=e.isClassifying,o="";t[0]&&t[0].url&&(o=t[0].url);var s=Object(n.useState)(o),l=Object(C.a)(s,2),m=l[0],u=l[1];return r.a.createElement(k.b,{className:"input-container"},r.a.createElement("h4",{className:"container-title"},"Input"),r.a.createElement(A,{showLoader:i,viewerImage:m,pickerImages:t,onSelectTile:function(e){!function(e){var n=t[e].url;a({image_file:n}),u(n)}(e)},onUpload:function(e){!function(e){var t=e[0];if(["image/gif","image/png","image/jpg","image/jpeg"].includes(t.type)){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;u(e),a({image_data:e})},n.readAsDataURL(t)}else c()}(e)}}),r.a.createElement("h4",{className:"container-footer"},"Select An Image to Analyze"))},T=a(54),R=a(49),M=a(50),U=a(53);function J(e){var t,a=e.progress;return r.a.createElement("div",{className:"bar-container"},r.a.createElement("div",{className:"bar-full"},r.a.createElement("div",{className:"bar",style:{width:"".concat((t=a,Math.abs(Math.round(100*t))),"%")}})),r.a.createElement("div",{className:"progress"},function(e){return(Math.round(100*e)/100).toFixed(2)}(a)))}J.defaultProps={progress:0};var H=J,G=a(25),L=a.n(G),q=function(e){var t=e.classifyResults,a=Object(n.useState)("table"),c=Object(C.a)(a,2),i=c[0],o=c[1];return r.a.createElement(k.b,{className:"output-container"},r.a.createElement("h3",{className:"output-container__title"},"Output"),r.a.createElement("div",{className:"output-container__control-panel"},r.a.createElement(T.a,{className:"output-container__content-switch",onChange:function(e){o(e.name)},selectedIndex:"table"===i?0:1},r.a.createElement(R.a,{name:"table",text:"Table"}),r.a.createElement(R.a,{name:"json",text:"JSON"}))),r.a.createElement(M.a,{legendText:"Result"},"table"===i?r.a.createElement(U.a,null,r.a.createElement("div",{className:"output-container__accordian-header"},r.a.createElement("p",null,"Top Classes"),r.a.createElement("p",null,"Score")),t.map((function(e){return r.a.createElement("div",{key:e.class,className:"output-container__accordian-item"},r.a.createElement("p",null,e.class),r.a.createElement(H,{progress:e.score}))}))):r.a.createElement(L.a,{name:!1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,collapsed:2,collapseStringsAfterLength:20,theme:"monokai",style:{lineHeight:"1.3em"},src:t})))};q.defaultProps={classifyResults:null};var z=q,Q=a(51),V=function(e){var t=e.caption,a=e.children,c=e.className,i=e.hideAfterFirstDisplay,o=e.hideCloseButton,s=e.iconDescription,l=e.kind,m=e.lowContrast,u=e.onCloseButtonClick,d=e.role,p=e.subtitle,f=e.timeout,g=e.title,h=Object(n.useState)(),E=Object(C.a)(h,2),v=E[0],b=E[1],k=Object(n.useState)(!1),_=Object(C.a)(k,2),y=_[0],N=_[1];return Object(n.useEffect)((function(){b(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".custom-toast-".concat(v));e&&(e.className+="enter")}),[v]),Object(n.useEffect)((function(){i&&void 0!==typeof window&&void 0!==typeof window.localStorage&&"true"===window.localStorage.getItem("notificationHasBeenSeen")&&N(!0)}),[i]),y?null:r.a.createElement(Q.a,{caption:t,className:"custom-toast-".concat(v," ").concat(c),hideCloseButton:o,iconDescription:s,kind:l,lowContrast:m,onCloseButtonClick:function(){i&&void 0!==typeof window&&void 0!==typeof window.localStorage&&window.localStorage.setItem("notificationHasBeenSeen","true"),u()},role:d,subtitle:p,timeout:f,title:g},a)};V.defaultProps={caption:"",children:null,className:"",hideAfterFirstDisplay:!0,hideCloseButton:!1,iconDescription:"closes notification",kind:"error",lowContrast:!1,onCloseButtonClick:function(){},role:"alert",subtitle:"",timeout:0,title:""};var K=V,X=a(26),Y=a(27),$=function(){var e,t=Object(n.useState)(!1),a=Object(C.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(Y),s=Object(C.a)(o,2),l=s[0],m=s[1],u=Object(n.useState)(null),d=Object(C.a)(u,2),p=d[0],f=d[1],g=function(){var e=Object(j.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),fetch("/api/classify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?f(e.error):m(e.result.images[0].classifiers)})).catch((function(e){f({title:e.message,description:e.message})})).finally((function(){return i(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"service-container"},r.a.createElement(K,{kind:"info",subtitle:"This system is for demonstration purposes only and is not intended to process Personal Data. No Personal Data is to be entered into this system as it may not have the necessary controls in place to meet the requirements of the General Data Protection Regulation (EU) 2016/679."}),p&&r.a.createElement(K,{kind:"error",title:p.title,subtitle:p.description,hideAfterFirstDisplay:!1,timeout:5e3,onCloseButtonClick:function(){return f(null)}}),r.a.createElement(F,{onSubmitImage:function(e){g(e)},isClassifying:c,images:X,handleUnsupportedFormats:function(){f({title:"Invalid file format:",description:"Only JPGs, PNGs, and GIFs are supported"})}}),r.a.createElement(z,{classifyResults:(e=l,e[0].classes.sort((function(e,t){return t.score-e.score})).slice(0,10))}))},Z=a(16),ee=[r.a.createElement(o.a,{className:"link",key:"api-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/apidocs/visual-recognition"},r.a.createElement("p",{className:"link-text"},"API reference"),r.a.createElement(m.a,{className:"link-icon"})),r.a.createElement(o.a,{className:"link",key:"docs-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/docs/services/visual-recognition?topic=visual-recognition-getting-started-tutorial"},r.a.createElement("p",{className:"link-text"},"Documentation"),r.a.createElement(d.a,{className:"link-icon"})),r.a.createElement(o.a,{className:"link",key:"github-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/watson-developer-cloud/visual-recognition-code-pattern"},r.a.createElement("p",{className:"link-text"},"GitHub"),r.a.createElement(v.a,{className:"link-icon"})),r.a.createElement(o.a,{className:"link getting-started",key:"ibm-cloud-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/registration?target=%2Fcatalog%2Fservices%2Fvisual-recognition%3FhideTours%3Dtrue%26cm_mmc%3D-_-Watson%2BCore_Watson%2BCore%2B-%2BPlatform-_-WW_WW-_-wdc-ref%26cm_mmc%3D-_-Watson%2BCore_Watson%2BCore%2B-%2BPlatform-_-WW_WW-_-wdc-ref%26cm_mmca1%3D000000OF%26cm_mmca2%3D10000409&_ga=2.158846578.918027017.1572271296-1405764752.1539884377&_gac=1.250083700.1571850605.Cj0KCQjw3JXtBRC8ARIsAEBHg4m4g1PSkKQRoI6YUe4A-6ysul0ziiWU0DVbqlbWAQpq3721u-bxkd0aAkV3EALw_wcB&cm_mc_uid=83381689395615475202389&cm_mc_sid_50200000=82214471572470185115&cm_mc_sid_52640000=21949701572470185117&cm_mmc=Earned-_-Watson%20Core%20-%20Platform-_-WW_WW-_-intercom&cm_mmca1=000000OF&cm_mmca2=10000409"},r.a.createElement(s.a,{className:"link-button",kind:"tertiary",renderIcon:h.a},"Start for free on IBM Cloud"),r.a.createElement(f.a,{className:"link-icon"}))],te=function(){return b("https://cdn.jsdelivr.net/gh/watson-developer-cloud/watson-developer-cloud.github.io@master/analytics.js"),r.a.createElement("div",{className:"app-container"},r.a.createElement(y,{description:Z.a,links:ee,title:Z.b}),r.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.5d5e26da.chunk.js.map